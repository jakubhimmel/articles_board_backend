(this["webpackJsonpreact-auth-client-done-v2"]=this["webpackJsonpreact-auth-client-done-v2"]||[]).push([[0],{34:function(e,t,n){e.exports=n(62)},39:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(31),u=n.n(o),l=n(1),i=n(2),c=n(5),s=n(3),m=n(6),p=n(12),h=(n(39),n(15)),g=n(4),d=n(16),b=n.n(d),f=new(function(){function e(){Object(l.a)(this,e),this.auth=b.a.create({baseURL:"https://article-board.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/signup",{username:t,password:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),v=r.a.createContext(),E=v.Consumer,O=v.Provider,j=function(e){return function(t){function n(){return Object(l.a)(this,n),Object(c.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(E,null,(function(n){var a=n.login,o=n.signup,u=n.user,l=n.logout,i=n.isLoggedin,c=n.isLoading;return r.a.createElement(e,Object.assign({login:a,signup:o,user:u,logout:l,isLoggedin:i,isLoading:c},t.props))}))}}]),n}(r.a.Component)},y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password;f.signup({username:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.login=function(e){var t=e.username,a=e.password;f.login({username:t,password:a}).then((function(e){return n.setState({isLoggedin:!0,user:e})})).catch((function(e){return console.log(e)}))},n.logout=function(){f.logout().then((function(){return n.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user,o=this.login,u=this.logout,l=this.signup;return r.a.createElement(O,{value:{isLoading:t,isLoggedin:n,user:a,login:o,logout:u,signup:l}},this.props.children)}}]),t}(r.a.Component),L=j(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.signup({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(g.b,{to:"/auth/login"}," Login"))}}]),t}(a.Component)),w=j(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a={username:t.username,password:t.password};n.props.login(a)},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)({},a,r))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),C=(a.Component,j(function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,a=e.isLoggedin;return r.a.createElement("div",null,r.a.createElement("div",{style:{borderRadius:"5px",padding:"20px",background:"#686de0"}},a?r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar-menu"},r.a.createElement(g.b,{to:"/homepage"},r.a.createElement("button",null,"Home")),r.a.createElement(g.b,{to:"/profile"},r.a.createElement("button",null,"Profile"))),r.a.createElement("div",null,r.a.createElement("p",null,"username: ",t.username),r.a.createElement("button",{onClick:n},"Logout"))):r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar-menu"},r.a.createElement(g.b,{to:"/homepage"},r.a.createElement("button",null,"Home")),r.a.createElement(g.b,{to:"/profile"},r.a.createElement("button",null,"Profile"))),r.a.createElement("div",{className:"is-logged-in"},r.a.createElement(g.b,{to:"/auth/login"}," ",r.a.createElement("button",null,"Login")," "),r.a.createElement("br",null),r.a.createElement(g.b,{to:"/auth/signup"}," ",r.a.createElement("button",null,"Signup")," "),r.a.createElement("br",null)))))}}]),t}(a.Component)));function k(){return r.a.createElement("div",null,["future","politics","technology","health","zero-waste","culture","food","design"].map((function(e){return r.a.createElement("button",null,r.a.createElement(g.b,{className:"topics-button",to:"/articles/topics/".concat(e)},e))})))}var S=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props;e.user,e.logout,e.isLoggedin;return r.a.createElement("div",null,r.a.createElement("p",null,"Search bar:"),r.a.createElement("p",null,"Topics"),r.a.createElement(k,null))}}]),t}(a.Component),x=n(17);var N=j((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,o=Object(x.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},o,{render:function(e){return n?r.a.createElement(p.a,{to:"/homepage"}):r.a.createElement(t,e)}}))}));j((function(e){var t=e.component,n=e.isLoggedin,a=e.isLoading,o=Object(x.a)(e,["component","isLoggedin","isLoading"]);return a?r.a.createElement("h1",null,"Loading"):r.a.createElement(p.b,Object.assign({},o,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/auth/login"})}}))}));var A=j(function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedin);return r.a.createElement("div",null,r.a.createElement("h1",null,"This is P R O F I L E"),t?r.a.createElement("h1",null," Ur logged in"):r.a.createElement("h1",null,"Logged out"))}}]),t}(a.Component)),P=new(function(){function e(){Object(l.a)(this,e),this.article=b.a.create({baseURL:"https://article-board.herokuapp.com/articles",withCredentials:!0})}return Object(i.a)(e,[{key:"articleByTopic",value:function(e){return this.article.get("/topics/".concat(e)).then((function(e){return e.data}))}}]),e}()),U=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={articleList:null},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.name;console.log(this.props.match.params.name),P.articleByTopic(e).then((function(e){console.log("article-list",e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null," ",this.state.articleList," "))}}]),t}(a.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(C,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/homepage",component:S}),r.a.createElement(p.b,{exact:!0,path:"/profile",component:A}),r.a.createElement(p.b,{exact:!0,path:"/articles/topics/:name",component:U}),r.a.createElement(N,{exact:!0,path:"/auth/signup",component:L}),r.a.createElement(N,{exact:!0,path:"/auth/login",component:w})))}}]),t}(a.Component);u.a.render(r.a.createElement(g.a,null,r.a.createElement(y,null,r.a.createElement(F,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.db9f7b05.chunk.js.map